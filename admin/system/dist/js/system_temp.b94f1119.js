(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["system_temp"],{"18cd":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},n=[],s={data:function(){return{}},created:function(){},methods:{},components:{}},i=s,o=a("2877"),l=Object(o["a"])(i,r,n,!1,null,"f0e722c8",null);t["default"]=l.exports},"1d9c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.template,{tag:"component",attrs:{returnData:e.data},on:{changeTemplate:e.changeTemplate}})},n=[],s=(a("d3b7"),a("5530")),i=a("2f62"),o={data:function(){return{template:"",data:{}}},computed:Object(s["a"])({},Object(i["c"])(["LoadHtml","navTitle"])),watch:{LoadHtml:{handler:function(e){if(e){var t=this.$t(this.$route.meta.title);document.title=t+"-"+this.$t("appname")+"-"+this.navTitle}},immediate:!0},template:{handler:function(e){this.template=e||"check"},immediate:!0}},created:function(){},methods:{changeTemplate:function(e){this.template=e.template,this.data=e.data}},components:{check:function(){return a.e("chunk-af3b1b98").then(a.bind(null,"1818"))},showupgrade:function(){return a.e("chunk-7828662a").then(a.bind(null,"227b"))},patch:function(){return a.e("chunk-9f9c2568").then(a.bind(null,"01e3"))}}},l=o,c=a("2877"),d=Object(c["a"])(l,r,n,!1,null,"bedf0cbc",null);t["default"]=d.exports},"1fb5":function(e,t,a){},"29ce":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.buttonLoding,expression:"buttonLoding"}]},[a("el-card",{staticClass:"box-card",staticStyle:{margin:"25px",background:"rgb(240, 249, 235)"},attrs:{shadow:"hover"}},[a("ul",{staticClass:"help-inline",domProps:{innerHTML:e._s(e.$t("db_export_tips"))}})]),a("el-form",{ref:"form",staticStyle:{padding:"0px 25px"},attrs:{"label-position":"rigth","label-width":"180px"}},[a("el-form-item",{attrs:{label:e.$t("db_export_type")+"："}},[a("el-radio-group",{model:{value:e.formdata.type,callback:function(t){e.$set(e.formdata,"type",t)},expression:"formdata.type"}},[a("el-radio",{attrs:{border:"",label:"dzz"}},[e._v(e._s(e.$t("all_data_table")))]),a("el-radio",{attrs:{border:"",label:"custom"}},[e._v(e._s(e.$t("db_export_custom")))])],1)],1),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"custom"==e.formdata.type,expression:"formdata.type == 'custom'"}]},[a("el-form-item",{attrs:{label:e.$t("db_export_custom")+"："}},[a("el-row",{staticStyle:{overflow:"hidden"},attrs:{gutter:20}},[a("el-col",{attrs:{md:8,lg:6}},[a("el-checkbox",{staticStyle:{width:"100%","margin-bottom":"0"},attrs:{border:"",indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(e._s(e.$t("select_all")))])],1)],1),a("div",{staticStyle:{"margin-bottom":"5px"}}),a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.formdata.customtables,callback:function(t){e.$set(e.formdata,"customtables",t)},expression:"formdata.customtables"}},[a("el-row",{attrs:{gutter:20}},e._l(e.dztables,(function(t){return a("el-col",{staticClass:"custom-single",attrs:{md:8,lg:6}},[a("el-checkbox",{staticStyle:{width:"100%"},attrs:{border:"",label:t}},[e._v(e._s(t))])],1)})),1)],1)],1)],1)]),a("el-form-item",{attrs:{label:e.$t("more_options")+"："}},[a("el-switch",{model:{value:e.delivery,callback:function(t){e.delivery=t},expression:"delivery"}})],1),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.delivery,expression:"delivery"}]},[a("el-form-item",{attrs:{label:e.$t("db_export_method")+"："}},[a("el-radio-group",{on:{change:e.handlemethod},model:{value:e.formdata.method,callback:function(t){e.$set(e.formdata,"method",t)},expression:"formdata.method"}},[a("el-radio",{attrs:{border:"",label:"shell"}},[e._v(e._s(e.$t("db_export_shell")))]),a("div",{staticStyle:{display:"inline-block"}},[a("el-radio",{staticStyle:{"margin-rigth":"15px"},attrs:{border:"",label:"multivol"}},[e._v(e._s(e.$t("db_export_multivol")))]),"multivol"==e.formdata.method?[a("el-input",{staticStyle:{width:"200px"},attrs:{min:0,placeholder:"",type:"number"},model:{value:e.formdata.sizelimit,callback:function(t){e.$set(e.formdata,"sizelimit",t)},expression:"formdata.sizelimit"}},[a("template",{slot:"append"},[e._v("KB")])],2)]:e._e()],2)],1)],1),a("el-form-item",{attrs:{label:e.$t("db_export_options_extended_insert")+"："}},[a("el-radio-group",{model:{value:e.formdata.extendins,callback:function(t){e.$set(e.formdata,"extendins",t)},expression:"formdata.extendins"}},[a("el-radio",{attrs:{border:"",label:"1"}},[e._v(e._s(e.$t("yes")))]),a("el-radio",{attrs:{border:"",label:"0"}},[e._v(e._s(e.$t("no")))])],1)],1),a("el-form-item",{attrs:{label:e.$t("db_export_options_sql_compatible")+"："}},[a("el-radio-group",{model:{value:e.formdata.sqlcompat,callback:function(t){e.$set(e.formdata,"sqlcompat",t)},expression:"formdata.sqlcompat"}},[a("el-radio",{attrs:{border:"",label:""}},[e._v(e._s(e.$t("default")))]),a("el-radio",{attrs:{border:"",label:"MYSQL40"}},[e._v("MySQL 3.23/4.0.x")]),a("el-radio",{attrs:{disabled:"shell"==e.formdata.method,border:"",label:"MYSQL41"}},[e._v("MySQL 4.1.x/5.x")])],1)],1),a("el-form-item",{attrs:{label:e.$t("db_export_options_charset")+"："}},[a("el-radio-group",{model:{value:e.formdata.sqlcharset,callback:function(t){e.$set(e.formdata,"sqlcharset",t)},expression:"formdata.sqlcharset"}},[a("el-radio",{attrs:{border:"",label:""}},[e._v(e._s(e.$t("db_export_options_charset")))]),a("el-radio",{attrs:{border:"",label:"utf8"}},[e._v("UTF8")])],1)],1),a("el-form-item",{attrs:{label:e.$t("db_export_usehex")+"："}},[a("el-radio-group",{model:{value:e.formdata.usehex,callback:function(t){e.$set(e.formdata,"usehex",t)},expression:"formdata.usehex"}},[a("el-radio",{attrs:{border:"",label:"1"}},[e._v(e._s(e.$t("yes")))]),a("el-radio",{attrs:{border:"",label:"0"}},[e._v(e._s(e.$t("no")))])],1)],1),a("el-form-item",{attrs:{label:e.$t("db_export_usezip")+"："}},[a("el-radio-group",{model:{value:e.formdata.usezip,callback:function(t){e.$set(e.formdata,"usezip",t)},expression:"formdata.usezip"}},[a("el-radio",{attrs:{border:"",label:"1"}},[e._v(e._s(e.$t("db_export_zip_1")))]),a("el-radio",{attrs:{border:"",label:"2"}},[e._v(e._s(e.$t("db_export_zip_2")))]),a("el-radio",{attrs:{border:"",label:"0"}},[e._v(e._s(e.$t("db_export_zip_3")))])],1)],1),a("el-form-item",{attrs:{label:e.$t("db_export_usehex")+"："}},[a("el-input",{staticClass:"max-width",model:{value:e.formdata.filename,callback:function(t){e.$set(e.formdata,"filename",t)},expression:"formdata.filename"}})],1)],1)]),a("el-form-item",{staticStyle:{"padding-top":"15px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("submit")))])],1)],1)],1)},n=[],s=(a("96cf"),a("1da1")),i=a("5530"),o=a("2f62"),l={data:function(){return{buttonLoding:!1,checkAll:!1,dztables:[],isIndeterminate:!1,delivery:!1,formdata:{exportsubmit:!0,type:"dzz",customtables:[],method:"multivol",sizelimit:2048,extendins:"0",sqlcompat:"",sqlcharset:"",usehex:"1",usezip:"0",filename:""}}},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["LoadHtml","navTitle"])),Object(o["b"])(["GetFormHash"])),watch:{LoadHtml:{handler:function(e){if(e){this.getData();var t=this.$t(this.$route.meta.title);document.title=t+"-"+this.$t("appname")+"-"+this.navTitle}},immediate:!0}},created:function(){},methods:{handleCheckAllChange:function(e){this.formdata.customtables=e?this.dztables:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.dztables.length,this.isIndeterminate=t>0&&t<this.dztables.length},getData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.buttonLoding=!0,t.next=3,e.axios.get("admin.php?mod=system&op=interface&operation=database&do=export");case 3:a=t.sent,r=a.data,e.dztables=r.dztables,e.formdata.filename=r.defaultfilename,e.buttonLoding=!1;case 8:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.buttonLoding=!0,e.formdata["formhash"]=e.GetFormHash,t.next=4,e.axios.post("admin.php?mod=system&op=interface&operation=database&do=export&setup=1",e.formdata);case 4:a=t.sent,r=a.data,r.success?r.finish?(e.$notify({customClass:"systemExportNotify",dangerouslyUseHTMLString:!0,message:r.msg,duration:1e4}),e.buttonLoding=!1):(e.$message({type:"success",dangerouslyUseHTMLString:!0,message:r.msg}),r.url&&e.handleGoSubmit(r.url)):(e.buttonLoding=!1,e.$message.error(r.error));case 7:case"end":return t.stop()}}),t)})))()},handleGoSubmit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(e);case 2:r=a.sent,n=r.data,n.success?(n.finish?(t.$notify({customClass:"systemExportNotify",dangerouslyUseHTMLString:!0,message:n.msg,duration:1e4}),t.buttonLoding=!1):t.$message({type:"success",dangerouslyUseHTMLString:!0,message:n.msg}),n.url&&t.handleGoSubmit(n.url)):(t.buttonLoding=!1,t.$message.error(n.error));case 5:case"end":return a.stop()}}),a)})))()},handlemethod:function(e){"shell"==e&&"MYSQL41"==this.formdata.sqlcompat&&(this.formdata.sqlcompat="")}},components:{}},c=l,d=(a("7ef8"),a("a5fc"),a("2877")),u=Object(d["a"])(c,r,n,!1,null,"174d5b16",null);t["default"]=u.exports},"2a9e":function(e,t,a){},4846:function(e,t,a){"use strict";var r=a("fcc8"),n=a.n(r);n.a},"4c0a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.Loading,expression:"Loading"}]},[a("el-card",{staticClass:"box-card",staticStyle:{margin:"25px",background:"rgb(240, 249, 235)"},attrs:{shadow:"hover"}},[a("ul",{staticClass:"help-inline",domProps:{innerHTML:e._s(e.$t("db_runquery_tips"))}})]),e.perm?[a("el-form",{ref:"ruleForm",staticStyle:{padding:"0px 25px"},attrs:{model:e.formData,rules:e.rules,"label-position":"top","label-width":"180px"}},[a("el-form-item",{attrs:{prop:"queries",label:e.$t("db_runquery_sql")+"："}},[a("el-input",{staticClass:"max-width",attrs:{type:"textarea",autosize:{minRows:7,maxRows:13}},model:{value:e.formData.queries,callback:function(t){e.$set(e.formData,"queries",t)},expression:"formData.queries"}})],1),a("el-form-item",{attrs:{label:e.$t("db_runquery_createcompatible")+"："}},[a("el-radio-group",{model:{value:e.formData.createcompatible,callback:function(t){e.$set(e.formData,"createcompatible",t)},expression:"formData.createcompatible"}},[a("el-radio",{attrs:{border:"",label:0}},[e._v(e._s(e.$t("no")))]),a("el-radio",{attrs:{border:"",label:1}},[e._v(e._s(e.$t("yes")))])],1)],1),a("el-form-item",{staticStyle:{"padding-top":"15px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("submit")))]),a("el-button",{on:{click:e.resetForm}},[e._v(e._s(e.$t("reset")))])],1)],1)]:[a("div",{staticStyle:{padding:"20px",background:"#f5f5f5",border:"1px solid #e3e3e3",margin:"0 25px"}},[e._v(e._s(e.msg))])]],2)},n=[],s=(a("96cf"),a("1da1")),i=a("5530"),o=a("2f62"),l={data:function(){return{Loading:!0,perm:0,msg:"",formData:{queries:"",createcompatible:1},rules:{queries:[{required:!0,message:this.$t("content_cannot"),trigger:["blur","change"]}]}}},created:function(){},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["LoadHtml","navTitle"])),Object(o["b"])(["GetFormHash"])),watch:{LoadHtml:{handler:function(e){if(e){this.getData();var t=this.$t(this.$route.meta.title);document.title=t+"-"+this.$t("appname")+"-"+this.navTitle}},immediate:!0}},methods:{getData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.Loading=!0,t.next=3,e.axios.get("admin.php?mod=system&op=interface&operation=database&do=runquery");case 3:a=t.sent,r=a.data,e.perm=parseInt(r.perm),e.msg=r.msg,e.Loading=!1;case 8:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return r={sqlsubmit:!0,formhash:e.GetFormHash,queries:e.formData.queries,createcompatible:e.formData.createcompatible},t.next=4,e.axios.post("admin.php?mod=system&op=interface&operation=database&do=runquery",r);case 4:n=t.sent,s=n.data,s.success?e.$message({duration:5e3,message:s.msg,type:"success"}):e.$message({duration:0,showClose:!0,message:s.error,type:"error"}),e.resetForm();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},resetForm:function(){this.$refs.ruleForm.resetFields()}},components:{}},c=l,d=(a("c517"),a("2877")),u=Object(d["a"])(c,r,n,!1,null,"71031654",null);t["default"]=u.exports},"77f3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-content"},[a("div",{staticClass:"top-title color-border"},[e._v(e._s(e.$t("appname_core")))]),a("el-scrollbar",{staticClass:"page-component__scroll"},[a("el-card",{staticClass:"box-card",staticStyle:{margin:"25px",background:"rgb(240, 249, 235)"},attrs:{shadow:"hover"}},[a("ul",{staticClass:"help-inline",domProps:{innerHTML:e._s(e.$t("misc_cron_tips"))}})]),a("div",{staticClass:"content"},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData}},[a("el-table-column",{attrs:{prop:"name","min-width":"320",label:e.$t("name")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{on:{change:function(a){return e.handleSubmit(t.$index)}},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}}),a("div",[e._v(e._s(t.row.filename))])]}}])}),a("el-table-column",{attrs:{width:"60",align:"center",label:e.$t("available")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},on:{change:function(a){return e.handleSubmit(t.$index)}},model:{value:t.row.available,callback:function(a){e.$set(t.row,"available",a)},expression:"scope.row.available"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:e.$t("type"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["system"==t.row.type?[e._v(" "+e._s(e.$t("inbuilt"))+" ")]:"user"==t.row.type?[e._v(" "+e._s(e.$t("custom"))+" ")]:e._e()]}}])}),a("el-table-column",{attrs:{prop:"time",label:e.$t("time")}}),a("el-table-column",{attrs:{align:"center",prop:"lastrun",width:"160",label:e.$t("misc_cron_last_run")}}),a("el-table-column",{attrs:{align:"center",prop:"nextrun",width:"160",label:e.$t("misc_cron_next_run")}}),a("el-table-column",{attrs:{label:e.$t("operation"),width:"210"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",size:"mini"},on:{click:function(a){return e.cronEdit(t.row.cronid)}}},[e._v(e._s(e.$t("edit")))]),"1"==t.row.available?[a("el-popconfirm",{staticStyle:{"margin-left":"5px"},attrs:{"confirm-button-text":e.$t("confirm"),"cancel-button-text":e.$t("cancel"),"confirm-button-type":"primary","cancel-button-type":"plain","icon-color":"red",title:e.$t("cron_run_task")},on:{onConfirm:function(a){return e.handlePerform(t.row.cronid)}}},[a("el-button",{attrs:{slot:"reference",plain:"",size:"mini",type:"primary"},slot:"reference"},[e._v(e._s(e.$t("execute")))])],1)]:e._e(),"system"!=t.row.type?[a("el-popconfirm",{staticStyle:{"margin-left":"5px"},attrs:{"confirm-button-text":e.$t("confirm"),"cancel-button-text":e.$t("cancel"),"confirm-button-type":"primary","cancel-button-type":"plain","icon-color":"red",title:e.$t("cron_del_task")},on:{onConfirm:function(a){return e.handleDel(t.$index,t.row.cronid)}}},[a("el-button",{attrs:{slot:"reference",plain:"",type:"warning",size:"mini"},slot:"reference"},[e._v(e._s(e.$t("delete")))])],1)]:e._e()]}}])})],1),a("div",{staticStyle:{height:"60px","text-align":"center","line-height":"60px",border:"1px solid #ebeef5","border-top":"0",cursor:"pointer","font-weight":"700"},on:{click:e.addCron}},[a("i",{staticClass:"el-icon-plus"}),e._v(" "+e._s(e.$t("add"))+" ")])],1)])],1)],1)},n=[],s=(a("a434"),a("96cf"),a("1da1")),i=a("5530"),o=a("2f62"),l={data:function(){return{tableData:[],loading:!1}},created:function(){},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["LoadHtml","navTitle"])),Object(o["b"])(["GetFormHash"])),watch:{LoadHtml:{handler:function(e){if(e){this.getData();var t=this.$t(this.$route.meta.title);document.title=t+"-"+this.$t("appname")+"-"+this.navTitle}},immediate:!0}},methods:{addCron:function(){var e=this;this.$prompt(this.$t("input_name"),this.$t("add_plan"),{closeOnClickModal:!1,confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel"),inputPattern:/\S/,inputErrorMessage:this.$t("content_cannot")}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var r,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=a.value,n={addsubmit:!0,formhash:e.GetFormHash,newname:r},t.next=4,e.axios.post("admin.php?mod=system&op=interface&operation=cron&do=view",n);case 4:s=t.sent,i=s.data,i.success?(e.tableData.push(i.data),e.$message({type:"success",message:e.$t("delete_success")})):e.$message({type:"error",message:e.$t("delete_unsuccess")});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleDel:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t){r.next=3;break}return a.$message({type:"error",message:a.$t("default_data")}),r.abrupt("return",!1);case 3:return n={delsubmit:!0,formhash:a.GetFormHash,delete:t},r.next=6,a.axios.post("admin.php?mod=system&op=interface&operation=cron&do=view",n);case 6:s=r.sent,i=s.data,i.success?(a.tableData.splice(e,1),a.$message({type:"success",message:a.$t("delete_success")})):a.$message({type:"error",message:a.$t("delete_unsuccess")});case 9:case"end":return r.stop()}}),r)})))()},handleSubmit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.tableData[e]){a.next=3;break}return t.$message({type:"error",message:t.$t("default_data")}),a.abrupt("return",!1);case 3:return r={cronssubmit:!0,formhash:t.GetFormHash,perm:t.tableData[e]},a.next=6,t.axios.post("admin.php?mod=system&op=interface&operation=cron&do=view",r);case 6:n=a.sent,s=n.data,s.success||t.$message({type:"error",message:t.$t("update_unsuccess")});case 9:case"end":return a.stop()}}),a)})))()},handlePerform:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post("admin.php?mod=system&op=interface&operation=cron&do=run",{cronid:e});case 2:r=a.sent,n=r.data,n.success?t.$message({type:"success",message:n.msg}):t.$message({type:"error",message:n.msg});case 5:case"end":return a.stop()}}),a)})))()},cronEdit:function(e){this.$router.push({name:"cronEdit",params:{id:e}})},getData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.axios.get("admin.php?mod=system&op=interface&operation=cron&do=view");case 3:a=t.sent,r=a.data,e.tableData=r.data,e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()}},components:{}},c=l,d=(a("e019"),a("2877")),u=Object(d["a"])(c,r,n,!1,null,"24008314",null);t["default"]=u.exports},"7ef8":function(e,t,a){"use strict";var r=a("1fb5"),n=a.n(r);n.a},8413:function(e,t,a){},"8f18":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.Loading,expression:"Loading"}],staticStyle:{padding:"25px"}},[e.perm?[a("div",{staticStyle:{padding:"20px",background:"#f5f5f5",border:"1px solid #e3e3e3",margin:"0 25px"}},[e._v(e._s(e.msg))])]:[a("el-card",{staticClass:"box-card",staticStyle:{background:"rgb(240, 249, 235)","margin-bottom":"25px"},attrs:{shadow:"hover"}},[a("ul",{staticClass:"help-inline",domProps:{innerHTML:e._s(e.$t("db_import_tips",{furl:e.furl}))}})]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"name",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"name",label:e.$t("filename")},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.parent?[e._v(" "+e._s(t.row.name)+" ")]:[a("el-link",{attrs:{type:"primary",href:t.row.filename}},[e._v(e._s(t.row.name))])]]}}])}),a("el-table-column",{attrs:{prop:"version",label:e.$t("version"),width:"150"}}),a("el-table-column",{attrs:{prop:"dateline",width:"170",label:e.$t("time")}}),a("el-table-column",{attrs:{prop:"ftype",width:"110",label:e.$t("type")}}),a("el-table-column",{attrs:{prop:"size",width:"110",label:e.$t("size")}}),a("el-table-column",{attrs:{prop:"method",width:"80",label:e.$t("mode")}}),a("el-table-column",{attrs:{prop:"volume",width:"80",label:e.$t("db_volume")}}),a("el-table-column",{attrs:{align:"center",label:e.$t("operation"),width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.parent?[t.row.children?[a("el-popconfirm",{staticStyle:{"margin-left":"5px"},attrs:{"confirm-button-text":e.$t("confirm"),"cancel-button-text":e.$t("cancel"),"confirm-button-type":"primary","cancel-button-type":"plain","icon-color":"red",title:e.$t("db_import_confirm")},on:{onConfirm:function(a){return e.handleImport(t.row.datafile_server)}}},[a("el-button",{attrs:{slot:"reference",plain:"",size:"mini"},slot:"reference"},[e._v(e._s(e.$t("import")))])],1)]:[a("el-button",{attrs:{plain:"",size:"mini"}},[a("el-link",{attrs:{type:"primary",underline:!1,href:"data/restore.php?operation=importzip&datafile_server="+t.row.datafile_server+"&importsubmit=yes",target:"_blank"}},[e._v(e._s(e.$t("db_import_unzip")))])],1)],a("el-popconfirm",{staticStyle:{"margin-left":"5px"},attrs:{"confirm-button-text":e.$t("confirm"),"cancel-button-text":e.$t("cancel"),"confirm-button-type":"primary","cancel-button-type":"plain","icon-color":"red",title:e.$t("db_import_del_custom")},on:{onConfirm:function(a){return e.handleDel(t.row.name)}}},[a("el-button",{attrs:{slot:"reference",plain:"",type:"warning",size:"mini"},slot:"reference"},[e._v(e._s(e.$t("delete")))])],1)]:e._e()]}}])})],1)]],2)},n=[],s=(a("4de4"),a("a434"),a("b0c0"),a("96cf"),a("1da1")),i=a("5530"),o=a("2f62"),l={data:function(){return{Loading:!0,perm:0,msg:"",tableData:[],furl:""}},created:function(){},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["LoadHtml","navTitle"])),Object(o["b"])(["GetFormHash"])),watch:{LoadHtml:{handler:function(e){if(e){this.getData();var t=this.$t(this.$route.meta.title);document.title=t+"-"+this.$t("appname")+"-"+this.navTitle}},immediate:!0}},methods:{getData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.Loading=!0,t.next=3,e.axios.get("admin.php?mod=system&op=interface&operation=database&do=import");case 3:if(a=t.sent,r=a.data,r.perm)e.perm=1,e.msg=r.perm;else{for(s in e.furl=r.url,n=[],r.data)n.push(r.data[s]);e.tableData=n}e.Loading=!1;case 7:case"end":return t.stop()}}),t)})))()},handleDel:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={deletesubmit:!0,formhash:t.GetFormHash,delete:e},a.next=3,t.axios.post("admin.php?mod=system&op=interface&operation=database&do=import",r);case 3:n=a.sent,s=n.data,s.success?(t.$message({message:s.msg,type:"success"}),t.tableData.filter((function(a,r){a.name==e&&t.tableData.splice(r,1)}))):t.$message.error(s.error);case 6:case"end":return a.stop()}}),a)})))()},handleImport:function(e){window.open("data/restore.php?operation=import&from=server&datafile_server="+e+"&importsubmit=yes")}},components:{}},c=l,d=a("2877"),u=Object(d["a"])(c,r,n,!1,null,"6342fa03",null);t["default"]=u.exports},"92e7":function(e,t,a){"use strict";var r=a("8413"),n=a.n(r);n.a},"9f25":function(e,t,a){},a15b:function(e,t,a){"use strict";var r=a("23e7"),n=a("44ad"),s=a("fc6a"),i=a("a640"),o=[].join,l=n!=Object,c=i("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(e){return o.call(s(this),void 0===e?",":e)}})},a434:function(e,t,a){"use strict";var r=a("23e7"),n=a("23cb"),s=a("a691"),i=a("50c4"),o=a("7b0b"),l=a("65f0"),c=a("8418"),d=a("1dde"),u=a("ae40"),m=d("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!m||!p},{splice:function(e,t){var a,r,d,u,m,p,_=o(this),g=i(_.length),x=n(e,g),$=arguments.length;if(0===$?a=r=0:1===$?(a=0,r=g-x):(a=$-2,r=h(f(s(t),0),g-x)),g+a-r>b)throw TypeError(v);for(d=l(_,r),u=0;u<r;u++)m=x+u,m in _&&c(d,u,_[m]);if(d.length=r,a<r){for(u=x;u<g-r;u++)m=u+r,p=u+a,m in _?_[p]=_[m]:delete _[p];for(u=g;u>g-r+a;u--)delete _[u-1]}else if(a>r)for(u=g-r;u>x;u--)m=u+r-1,p=u+a-1,m in _?_[p]=_[m]:delete _[p];for(u=0;u<a;u++)_[u+x]=arguments[u+2];return _.length=g-r+a,d}})},a5fc:function(e,t,a){"use strict";var r=a("e4fd"),n=a.n(r);n.a},a6ab:function(e,t,a){},b0c0:function(e,t,a){var r=a("83ab"),n=a("9bf2").f,s=Function.prototype,i=s.toString,o=/^\s*function ([^ (]*)/,l="name";r&&!(l in s)&&n(s,l,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(e){return""}}})},b2b4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-content"},[a("div",{staticClass:"top-title color-border"},[a("el-steps",{attrs:{active:e.activeStep,"finish-status":"success",simple:""}},[a("el-step",{attrs:{title:e.$t("nav_updatecache_confirm")}}),a("el-step",{attrs:{title:e.$t("nav_updatecache_verify")}}),a("el-step",{attrs:{title:e.$t("nav_updatecache_completed")}})],1)],1),a("el-scrollbar",{staticClass:"page-component__scroll"},[a("div",{staticClass:"content"},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"25px",background:"rgb(240, 249, 235)"},attrs:{shadow:"hover"}},[a("ul",{staticClass:"help-inline",domProps:{innerHTML:e._s(e.$t("tools_updatecache_tips"))}})]),1==e.activeStep?a("el-form",{ref:"form",staticStyle:{padding:"20px",background:"#f5f5f5",border:"1px solid #e3e3e3"},attrs:{"label-position":"rigth"}},[a("el-form-item",{attrs:{label:""}},[a("el-checkbox-group",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-checkbox",{attrs:{label:"data",name:"type"}},[e._v(e._s(e.$t("tools_updatecache_data")))]),a("el-checkbox",{attrs:{label:"tpl",name:"type"}},[e._v(e._s(e.$t("tools_updatecache_tpl")))]),a("el-checkbox",{attrs:{label:"memory",name:"type"}},[e._v(e._s(e.$t("tools_updatecache_memory")))])],1)],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.formSubmit}},[e._v(e._s(e.$t("confirm")))])],1)],1):e._e(),e.activeStep>1?[2==e.activeStep?[a("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.$t("tools_updatecache_waiting")))])]:3==e.activeStep?[a("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.$t("update_cache_succeed"))+"，"+e._s(e.$t("update_cache_succeed1",{num:e.num}))+"，"),a("el-link",{staticStyle:{"font-size":"16px","vertical-align":"text-bottom"},attrs:{underline:!1,type:"primary"},on:{click:e.handleGO}},[e._v(e._s(e.$t("update_cache_succeed2")))])],1)]:e._e(),a("div",{staticStyle:{"text-align":"center"}},[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:e.progerss}})],1)]:e._e()],2)])],1)},n=[],s=(a("a15b"),a("96cf"),a("1da1")),i=a("5530"),o=a("2f62"),l={data:function(){return{loading:!0,progerss:0,num:3,time:"",ftime:"",speed:10,activeStep:1,type:["data","tpl"]}},computed:Object(i["a"])({},Object(o["c"])(["LoadHtml","navTitle"])),watch:{LoadHtml:{handler:function(e){if(e){this.loading=!1;var t=this.$t(this.$route.meta.title);document.title=t+"-"+this.$t("appname")+"-"+this.navTitle}},immediate:!0}},created:function(){},methods:{handleGO:function(){clearInterval(this.ftime),Object.assign(this.$data,this.$options.data()),this.loading=!1},formSubmit:function(){var e=this;this.activeStep=2,this.time=setInterval(this.addpro,this.speed),setTimeout(Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.post("admin.php?mod=system&op=interface&operation=updatecache&step=3",{type:e.type.join("_")});case 2:a=t.sent,a.data,e.activeStep=3,e.progerss=100,r=3,e.ftime=setInterval((function(){if(r--,r<0)return clearInterval(e.ftime),Object.assign(e.$data,e.$options.data()),e.loading=!1,!1;e.num=r}),1e3);case 8:case"end":return t.stop()}}),t)}))),2e3)},addpro:function(){if(this.progerss>50&&(this.speed=50,clearInterval(this.time),this.time=setInterval(this.addpro,this.speed)),this.progerss>70&&(this.speed=80,clearInterval(this.time),this.time=setInterval(this.addpro,this.speed)),this.progerss>90&&(this.speed=1e3,clearInterval(this.time),this.time=setInterval(this.addpro,this.speed)),3==this.activeStep||this.progerss>98)return clearInterval(this.time),!1;this.progerss++}},components:{}},c=l,d=(a("92e7"),a("2877")),u=Object(d["a"])(c,r,n,!1,null,"31baf320",null);t["default"]=u.exports},b56b:function(e,t,a){},bf14:function(e,t,a){"use strict";var r=a("9f25"),n=a.n(r);n.a},c517:function(e,t,a){"use strict";var r=a("2a9e"),n=a.n(r);n.a},d212:function(e,t,a){"use strict";var r=a("a6ab"),n=a.n(r);n.a},d9c5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticClass:"color-background",staticStyle:{padding:"4px 16px"},attrs:{height:"70px"}},[a("Mheader")],1),a("el-container",{staticStyle:{overflow:"hidden",height:"100%"}},[a("el-aside",{attrs:{width:e.IfuserAgent?"200px":"300px"}},[a("Mleft"),a("div",{staticClass:"color-border",attrs:{id:"leftResize"}})],1),a("el-main",{staticStyle:{overflow:"hidden"}},[a("router-view")],1)],1)],1)},n=[],s=(a("d3b7"),a("5530")),i=a("2f62"),o=a("50a0"),l={data:function(){return{}},created:function(){},computed:Object(s["a"])({},Object(i["c"])(["IfuserAgent"])),methods:{},components:{Mheader:function(){return a.e("chunk-2b4f90f7").then(a.bind(null,"fcc8f"))},Mleft:function(){return a.e("chunk-e730cc06").then(a.bind(null,"7a99"))}},mounted:function(){Object(o["a"])()}},c=l,d=(a("d212"),a("2877")),u=Object(d["a"])(c,r,n,!1,null,"51d41a2c",null);t["default"]=u.exports},dc5b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-content"},[a("div",{staticClass:"top-title color-border"},[a("span",{staticClass:"el-page-header__left",staticStyle:{display:"inline-block"}},[e._v(e._s(e.$t("database")))]),a("span",{staticClass:"main-title",class:{"is-active":"DatabaseExport"==e.activeTitle},on:{click:function(t){return e.openTitle("DatabaseExport")}}},[e._v(e._s(e.$t("export")))]),a("span",{staticClass:"main-title",class:{"is-active":"DatabaseImport"==e.activeTitle},on:{click:function(t){return e.openTitle("DatabaseImport")}}},[e._v(e._s(e.$t("recovery")))]),a("span",{staticClass:"main-title",class:{"is-active":"DatabaseRunquery"==e.activeTitle},on:{click:function(t){return e.openTitle("DatabaseRunquery")}}},[e._v(e._s(e.$t("nav_db_runquery")))])]),a("el-scrollbar",{staticClass:"page-component__scroll"},[a("router-view")],1)],1)},n=[],s=(a("b0c0"),{data:function(){return{activeTitle:"DatabaseExport"}},created:function(){this.activeTitle=this.$route.name},methods:{openTitle:function(e){this.activeTitle!=e&&(this.activeTitle=e,this.$router.push({name:e}))}},components:{}}),i=s,o=(a("4846"),a("2877")),l=Object(o["a"])(i,r,n,!1,null,"da54ce54",null);t["default"]=l.exports},e019:function(e,t,a){"use strict";var r=a("b56b"),n=a.n(r);n.a},e4fd:function(e,t,a){},f100:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-content"},[a("div",{staticClass:"top-title color-border"},[a("el-page-header",{staticStyle:{float:"left","line-height":"60px"},attrs:{content:e.$t("cron1")},on:{back:e.goBack}})],1),a("el-scrollbar",{staticClass:"page-component__scroll"},[a("el-card",{staticClass:"box-card",staticStyle:{margin:"25px",background:"rgb(240, 249, 235)"},attrs:{shadow:"hover"}},[a("ul",{staticClass:"help-inline",domProps:{innerHTML:e._s(e.$t("misc_cron_edit_tips"))}})]),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",staticStyle:{padding:"35px 50px"},attrs:{"label-position":"rigth","label-width":"160px"}},[a("el-form-item",{attrs:{label:e.$t("weekly")+"："}},[a("el-select",{staticClass:"max-width",attrs:{placeholder:e.$t("select")},model:{value:e.formdata.weekday,callback:function(t){e.$set(e.formdata,"weekday",t)},expression:"formdata.weekday"}},[a("el-option",{attrs:{label:"*",value:"-1"}}),e._l(e.weekdayselect,(function(e){return[a("el-option",{key:e.value,attrs:{label:e.label,value:e.value+""}})]}))],2),a("span",{staticClass:"help-inline"},[e._v(e._s(e.$t("misc_cron_edit_weekday_comment")))])],1),a("el-form-item",{attrs:{label:e.$t("everyday")+"："}},[a("el-select",{staticClass:"max-width",attrs:{placeholder:e.$t("select")},model:{value:e.formdata.day,callback:function(t){e.$set(e.formdata,"day",t)},expression:"formdata.day"}},[a("el-option",{attrs:{label:"*",value:"-1"}}),e._l(e.dayselect,(function(e){return[a("el-option",{key:e.value,attrs:{label:e.label,value:e.value+""}})]}))],2),a("span",{staticClass:"help-inline"},[e._v(e._s(e.$t("misc_cron_edit_day_comment")))])],1),a("el-form-item",{attrs:{label:e.$t("hour")+"："}},[a("el-select",{staticClass:"max-width",attrs:{placeholder:e.$t("select")},model:{value:e.formdata.hour,callback:function(t){e.$set(e.formdata,"hour",t)},expression:"formdata.hour"}},[a("el-option",{attrs:{label:"*",value:"-1"}}),e._l(e.hourselect,(function(e){return[a("el-option",{key:e.value,attrs:{label:e.label,value:e.value+""}})]}))],2),a("span",{staticClass:"help-inline"},[e._v(e._s(e.$t("misc_cron_edit_hour_comment")))])],1),a("el-form-item",{attrs:{label:e.$t("minute")+"："}},[a("el-input",{staticClass:"max-width",attrs:{placeholder:""},model:{value:e.formdata.minute,callback:function(t){e.$set(e.formdata,"minute",t)},expression:"formdata.minute"}}),a("span",{staticClass:"help-inline"},[e._v(e._s(e.$t("misc_cron_edit_minute_comment")))])],1),a("el-form-item",{attrs:{label:e.$t("misc_cron_edit_filename")+"："}},[a("el-input",{staticClass:"max-width",attrs:{placeholder:""},model:{value:e.formdata.filename,callback:function(t){e.$set(e.formdata,"filename",t)},expression:"formdata.filename"}}),a("span",{staticClass:"help-inline"},[e._v(e._s(e.$t("misc_cron_edit_filename_comment")))])],1),a("el-form-item",{staticStyle:{"padding-top":"15px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSubmit}},[e._v(e._s(e.$t("submit")))])],1)],1)],1)],1)},n=[],s=(a("96cf"),a("1da1")),i=a("5530"),o=a("2f62"),l={data:function(){return{loading:!1,weekdayselect:[],dayselect:[],hourselect:[],formdata:{weekday:"-1",day:"-1",hour:"-1",minute:"",filename:""}}},created:function(){},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["LoadHtml","navTitle"])),Object(o["b"])(["GetFormHash"])),watch:{LoadHtml:{handler:function(e){if(e){this.getData();var t=this.$t(this.$route.meta.title);document.title=t+"-"+this.$t("appname")+"-"+this.navTitle}},immediate:!0}},methods:{getData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,a=e.$route.params.id,a){t.next=6;break}return e.$message({type:"error",message:e.$t("default_data")}),e.$router.push({name:"cronView"}),t.abrupt("return",!1);case 6:return t.next=8,e.axios.get("admin.php?mod=system&op=interface&operation=cron&do=edit&cronid="+a);case 8:r=t.sent,n=r.data,e.weekdayselect=n.weekdayselect,e.dayselect=n.dayselect,e.hourselect=n.hourselect,e.formdata=n.data,e.loading=!1;case 15:case"end":return t.stop()}}),t)})))()},formSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e.$route.params.id,r={editsubmit:!0,formhash:e.GetFormHash,cronid:a,weekday:e.formdata.weekday,day:e.formdata.day,hour:e.formdata.hour,minute:e.formdata.minute,filename:e.formdata.filename},t.next=5,e.axios.post("admin.php?mod=system&op=interface&operation=cron&do=edit",r);case 5:n=t.sent,s=n.data,s.success?(e.$message({type:"success",message:s.msg}),e.$router.push({name:"cronView"})):e.$message.error(s.msg);case 8:case"end":return t.stop()}}),t)})))()},goBack:function(){this.$router.push({name:"cronView"})}},components:{}},c=l,d=(a("bf14"),a("2877")),u=Object(d["a"])(c,r,n,!1,null,"5e61246c",null);t["default"]=u.exports},fcc8:function(e,t,a){}}]);